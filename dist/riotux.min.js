"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports={dispatch:e().store.dispatch,getState:e().store.get,setState:e().store.setState,setActions:e().store.setActions,subscribe:e().store.subscribe,unsubscribe:e().store.unsubscribe}:t.Riotux=e().store}(this,function(){var t={_store:{state:{},actions:{},components:[]},store:{subscribe:function(e,o){t._store.components.push({component:e,handler:o})},unsubscribe:function(e){t._store.components.forEach(el,function(o){el===e&&t._store.components.splice(o,1)})},dispatch:function(e){for(var o=arguments.length,n=Array(o>1?o-1:0),s=1;o>s;s++)n[s-1]=arguments[s];var r=void 0,c=function(){var o=Promise.resolve(t._store.actions[e].apply(null,[].concat(t._store.state,n))).then(function(o){var n=t._store.components;r={action:e,value:o},n.forEach(function(t,e){void 0!==t.component&&"function"==typeof t.handler&&t.handler(r)})}).then(function(){return r});return o};return c()},setState:function(e){Object.assign(t._store.state,e)},get:function(e){return t._store.state[e]},setActions:function(e){Object.assign(t._store.actions,e)}}};return t});
