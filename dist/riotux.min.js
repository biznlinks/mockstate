!function(t,n){"use strict";function e(){n.observable(this);var t=this;this.store={dispatch:function(n){var e=Array.prototype.slice.call(arguments,1),i=[r.state],s=i.concat(e);return new Promise(function(t,e){console.log(s),t(r.mutations[n].apply(null,s))}).then(function(){t.trigger(o,r.state[o])})}},this.actions={}}var o,r={};e.prototype={Store:function(t){return r=Object.assign({},t),this.store},Actions:function(t){return this.actions=t,this.actions},action:function(){if(o=arguments[0],void 0!==r.state[o]){var t=Array.prototype.slice.call(arguments,2);this.actions[arguments[1]].apply(null,t)}else{var t=Array.prototype.slice.call(arguments,1);this.actions[arguments[0]].apply(null,t)}},getter:function(t){return r.state[t]}},t.riotux||(t.riotux=new e),"undefined"!=typeof module&&(module.exports=e)}(window,riot);