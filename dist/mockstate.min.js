var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports={dispatch:b().dispatch,getState:b().getState,setState:b().setState,setActions:b().setActions,subscribe:b().subscribe,middleware:b().middleware,unsubscribe:b().unsubscribe}:a.Mockstate=b()}(this,function(){"use strict";var a={_store:{state:{},actions:{},components:[],middleware:{}},store:{subscribe:function(b,c){a._store.components.push({component:b,handler:c})},unsubscribe:function(b){a._store.components.forEach(el,function(c){el===b&&a._store.components.splice(c,1)})},middleware:function(b){a._store.middleware=b},dispatch:function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=void 0,g=function(){var c=Promise.resolve(a._store.actions[b].apply(null,[].concat(a._store.state,d))).then(function(c){f={action:b,value:c},"function"==typeof a._store.middleware&&a._store.middleware.call(null,f,a._store.state);var d=a._store.components;d.forEach(function(a,b){void 0!==a.component&&"function"==typeof a.handler&&a.handler(f)})}).then(function(){return f});return c};return g()},setState:function(b){Object.assign(a._store.state,b)},getState:function(b){return a._store.state[b]},setActions:function(b){Object.assign(a._store.actions,b)}}};return a.store});